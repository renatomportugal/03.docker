docker pull bitnami/moodle
https://hub.docker.com/r/bitnami/moodle/

Se der falha na instalação
docker volume ls
docker volume rm bitnami-moodle_mariadb_data
docker volume rm bitnami-moodle_moodle_data
docker volume ls
______________________________
__Usando Composer
Instale o docker compose na sua máquina, veja o arquivo docker/08.Docker-compose.md, acesso em:
https://github.com/renatomportugal/docker/blob/master/08.Docker-compose.md

mkdir bitnami-moodle
cd bitnami-moodle
curl -sSL https://raw.githubusercontent.com/bitnami/bitnami-docker-moodle/master/docker-compose.yml > docker-compose.yml
docker-compose up -d

Run the application manually
If you want to run the application manually instead of using docker-compose, these are the basic steps you need to run:

Create a new network for the application and the database:

$ docker network create moodle-tier
Create a volume for MariaDB persistence and create a MariaDB container

$ docker volume create --name mariadb_data
$ docker run -d --name mariadb \
 -e ALLOW_EMPTY_PASSWORD=yes \
 -e MARIADB_USER=bn_moodle \
 -e MARIADB_DATABASE=bitnami_moodle \
 --net moodle-tier \
 --volume mariadb_data:/bitnami \
 bitnami/mariadb:latest
Note: You need to give the container a name in order to Moodle to resolve the host

Create volumes for Moodle persistence and launch the container

$ docker volume create --name moodle_data
$ docker run -d --name moodle -p 80:80 -p 443:443 \
 -e ALLOW_EMPTY_PASSWORD=yes \
 -e MOODLE_DATABASE_USER=bn_moodle \
 -e MOODLE_DATABASE_NAME=bitnami_moodle \
 --net moodle-tier \
 --volume moodle_data:/bitnami \
 bitnami/moodle:latest
 
 Persisting your application
If you remove the container all your data and configurations will be lost, and the next time you run the image the database will be reinitialized. To avoid this loss of data, you should mount a volume that will persist even after the container is removed.

For persistence you should mount a volume at the /bitnami path. Additionally you should mount a volume for persistence of the MariaDB data.

The above examples define docker volumes namely mariadb_data and moodle_data. The Moodle application state will persist as long as these volumes are not removed.

To avoid inadvertent removal of these volumes you can mount host directories as data volumes. Alternatively you can make use of volume plugins to host the volume data.

Mount persistent folders in the host using docker-compose
This requires a minor change to the docker-compose.yml file present in this repository:

services:
  mariadb:
  ...
    volumes:
      - '/path/to/mariadb-persistence:/bitnami'
  ...
  moodle:
  ...
    depends_on:
      - mariadb
  ...
Mount persistent folders manually
In this case you need to specify the directories to mount on the run command. The process is the same than the one previously shown:

If you haven't done this before, create a new network for the application and the database:

$ docker network create moodle-tier
Start a MariaDB database in the previous network:

$ docker run -d --name mariadb \
 -e ALLOW_EMPTY_PASSWORD=yes \
 -e MARIADB_USER=bn_moodle \
 -e MARIADB_DATABASE=bitnami_moodle \
 -v /path/to/mariadb-persistence:/bitnami \
 --net moodle-tier \
 bitnami/mariadb:latest
Note: You need to give the container a name in order to Moodle to resolve the host

Run the Moodle container:

$ docker run -d -p 80:80 -p 443:443 --name moodle \
 -e ALLOW_EMPTY_PASSWORD=yes \
 -e MOODLE_DATABASE_USER=bn_moodle \
 -e MOODLE_DATABASE_NAME=bitnami_moodle \
 --net moodle-tier \
 --volume /path/to/moodle-persistence:/bitnami \
 bitnami/moodle:latest
