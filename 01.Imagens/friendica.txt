https://hub.docker.com/_/friendica

Baixar
docker pull friendica

_______________________________________________________________________________
__INSATALANDO COM MYSQL________________________________________________________
Instale o MySQL e o PHPmyAdmin, veja em no arquivo deste mesmo diretório mysql.txt

docker run \
  -d \
  -p 80:80 \
  --network mysql \
  --name friendica \
  friendica
  
  56 (deu errado, parece que é certificado)
  93
  
  mysql.5.7.wp
  
  o banco de dados friendica deve ser criado
  
Por algum motivo, depois de configurar, não permitiu executar o site sem o https, mesmo eliminando.


Friendica Settings

FRIENDICA_URL The Friendica URL.
FRIENDICA_TZ The default localization of the Friendica server.
FRIENDICA_LANG The default language of the Friendica server.
FRIENDICA_SITENAME The Sitename of the Friendica server.
FRIENDICA_NO_VALIDATION If set to true, the URL and E-Mail validation will be disabled.
FRIENDICA_DATA If set to true, the fileystem will be used instead of the DB backend.
FRIENDICA_DATA_DIR The data directory of the Friendica server (Default: /var/www/data).
Friendica Logging

FRIENDICA_DEBUGGING If set to true, the logging of Friendica is enabled.
FRIENDICA_LOGFILE (optional) The path to the logfile (Default: /var/www/friendica.log).
FRIENDICA_LOGLEVEL (optional) The loglevel to log (Default: notice).
Database (required at installation)

MYSQL_USER Username for the database user using mysql / mariadb.
MYSQL_PASSWORD Password for the database user using mysql / mariadb.
MYSQL_DATABASE Name of the database using mysql / mariadb.
MYSQL_HOST Hostname of the database server using mysql / mariadb.
MYSQL_PORT Port of the database server using mysql / mariadb (Default: 3306)
Lock Driver (Redis)

REDIS_HOST The hostname of the redis instance (in case of locking).
REDIS_PORT (optional) The port of the redis instance (in case of locking).
REDIS_PW (optional) The password for the redis instance (in case of locking).
REDIS_DB (optional) The database instance of the redis instance (in case of locking).

Administrator account
Because Friendica links the administrator account to a specific mail address, you have to set a valid address for MAILNAME.

Mail settings
The binary ssmtp is used for the mail() support of Friendica.

You have to set the --hostname/-h parameter correctly to use the right domainname for the mail() command.

You have to set a valid SMTP-MTA for the SMTP environment variable to enable mail support in Friendica. A valid SMTP-MTA would be, for example, mx.example.org.

The following environment variables are possible for the SMTP examples.

SMTP Address of the SMTP Mail-Gateway. (required)
SMTP_DOMAIN The sender domain. (required - e.g. friendica.local)
SMTP_FROM Sender user-part of the address. (Default: no-reply - e.g. no-reply@friendica.local)
SMTP_TLS Use TLS for connecting the SMTP Mail-Gateway. (Default: empty)
SMTP_STARTTLS Use STARTTLS for connecting the SMTP Mail-Gateway. (Default: empty)
SMTP_AUTH_USER Username for the SMTP Mail-Gateway. (Default: empty)
SMTP_AUTH_PASS Password for the SMTP Mail-Gateway. (Default: empty)
SMTP_AUTH_METHOD Authentication method for the SMTP Mail-Gateway. (Default: empty/plain text)
Database settings
You have to add the Friendica container to the same network as the running database container, e. g. --network some-network, and then use mysql as the database host on setup.

Persistent data
The Friendica installation and all data beyond what lives in the database (file uploads, etc) is stored in the unnamed docker volume volume /var/www/html. The docker daemon will store that data within the docker directory /var/lib/docker/volumes/.... That means your data is saved even if the container crashes, is stopped or deleted. To make your data persistent to upgrading and get access for backups is using named docker volume or mount a host folder. To achieve this you need one volume for your database container and Friendica.

Friendica:

/var/www/html/ folder where all Friendica data lives
$ docker run -d \
  -v friendica-vol-1:/var/www/html \
  --network some-network
  friendica
Database:

/var/lib/mysql MySQL / MariaDB Data
$ docker run -d \
  -v mysql-vol-1:/var/lib/mysql \
  --network some-network
  mariadb
Automatic installation
The Friendica image supports auto configuration via environment variables. You can preconfigure everything that is asked on the install page on first run. To enable the automatic installation, you have to the following environment variables:

FRIENDICA_ADMIN_MAIL E-Mail address of the administrator.
MYSQL_USER Username for the database user using mysql / mariadb.
MYSQL_PASSWORD Password for the database user using mysql / mariadb.
MYSQL_DATABASE Name of the database using mysql / mariadb.
MYSQL_HOST Hostname of the database server using mysql / mariadb.


