# Iniciar Docker com a máquina
```
sudo systemctl start docker
sudo systemctl status docker
sudo systemctl enable docker
```

## Subir automaticamente a imagem com o sistema
Rode a imagem que deseja que seja iniciada com o sistema<br>

Liste a imagem para ver o id<br>
```
docker ps
```
Vamos suport que o id inicie com 98...<br>
Pare a imagem.<br>
```
docker stop 98
```
Vamos listar todas as imagens.<br>
```
docker ps -a
```
Vamos dar o comando para que a imagem inicie junto com o docker.<br>
```
docker update --restart=always 98
```

Para verificar:<br>
```
docker inspect -f "{{ .HostConfig.RestartPolicy }}" <container_id>
docker inspect -f "{{ .RestartCount }}" <container_id>
docker inspect -f "{{ .State.StartedAt }}" <container_id>
```

Lista de todos os containers com id, status de restart e quantidadede (de restart)<br>
```
docker inspect -f "{{.Id}} {{.HostConfig.RestartPolicy.Name}} {{.RestartCount}}" $(docker container ls -q)
```

Explicando:<br>
Este comando lista todos os ids dos containers que estão rodando. Para incluir todos adicione -a.<br>
```
$(docker container ls -a -q)
```
# Formatando a saída
https://docs.docker.com/config/formatting/<br>
Use aspas simples externamente, internamente use aspas duplas como no exemplo a seguir:<br>
Este exemplo separa o id quando encontra a letra "e".<br>
Entrada c81e8baea8<br>
Saída c81 8ba a8<br>
```
docker inspect -f '{{split .Id "e"}} {{.HostConfig.RestartPolicy.Name}} {{.RestartCount}}' $(docker container ls -q)
```
Tamanho do campo<br>
```
docker inspect -f '{{len .Id}} {{.HostConfig.RestartPolicy.Name}} {{.RestartCount}}' $(docker container ls -q)
```
