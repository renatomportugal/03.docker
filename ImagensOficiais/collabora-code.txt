docker run -d -p 80:80 --name nc2 nextcloud
docker run -t -d -p 9980:9980 -e "extra_params=--o:ssl.enable=false" --name co2 collabora/code

https://github.com/owncloud/richdocuments
https://www.collaboraoffice.com/code/docker/
https://www.collaboraoffice.com/code/quick-tryout-nextcloud-docker/

docker pull collabora/code

docker network ls

docker network create \
  -d \
  bridge \
  --subnet 66.6.0.0/16 \
  --gateway 66.6.0.1 \
  bridge.66.6

docker network ls

docker network inspect bridge.66.6

docker volume ls

docker volume create mysql

docker volume ls

docker run \
    -d \
    -p 3306:3306 \
    -e MYSQL_ROOT_PASSWORD=my-password \
    -e MYSQL_USER=root \
    -e MYSQL_PASSWORD=my-password \
    -v mysql:/var/lib/mysql \
    --network bridge.66.6 \
    --name mysql.5.7 \
    --ip 66.6.0.5 \
    --restart=always \
    mysql:5.7

docker run \
    -d \
    -p 8080:80 \
    -e PMA_HOST=mysql.5.7 \
    --network bridge.66.6 \
    --name phpmyadmin \
    --ip 66.6.0.15 \
    --restart=always \
phpmyadmin/phpmyadmin

docker volume ls

docker volume create nextcloud

docker volume ls

docker run \
  -d \
  -p 80:80 \
  -v nextcloud:/var/www/html \
  --network bridge.66.6 \
  --name nextcloud \
  --ip 66.6.0.20 \
  --restart=always \
nextcloud

Instale o nextcloud e adicione o app Collabora.

docker run \
  -t \
  -d \
  -p 9980:9980 \
  -e "extra_params=--o:ssl.enable=false" \
  --network bridge.66.6 \
  --name collabora\
  --ip 66.6.0.21 \
  --restart=always \
collabora/code

Set up the Collabora Online server in Nextcloud Settings â€“ Collabora Online to http://localhost:9980






docker run -t -d -p 127.0.0.1:9980:9980 -e "domain=<your-dot-escaped-domain>" \
        -e "username=admin" -e "password=S3cRet" --restart always collabora/code


docker run -t -d \
-p 9980:9980 \
-e "username=admin" \
-e "password=admin" \
--network mysql \
--name collabora \
--cap-add MKNOD \
collabora/code

docker exec -it collabora /bin/bash -c "apt-get -y update && apt-get -y install xmlstarlet && xmlstarlet ed --inplace -u \"/config/ssl/enable\" -v false /etc/loolwsd/loolwsd.xml && xmlstarlet ed --inplace -u \"/config/ssl/termination\" -v false /etc/loolwsd/loolwsd.xml"

Reading package lists... Done
E: List directory /var/lib/apt/lists/partial is missing. - Acquire (13: Permission denied)

docker exec -it collabora bash

su root -s /bin/sh

Espere um temo e reinicie.
docker restart collabora

Access Collabora Admin at http://[your-host-public-ip]:9980/loleaflet/dist/admin/admin.html e.g. 172.16.12.95, 
and set in Settings -> Admin -> Additional -> Collabora Online server -> http://[your-host-public-ip]:9980
